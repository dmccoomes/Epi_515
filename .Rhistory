knitr::opts_chunk$set(include=TRUE, echo = TRUE)
#install.packages("devtools", dependencies = TRUE, repos = "http://cran.us.r-project.org")
library(devtools)
#install_github("bmckuw/UWbe536")
library(ggplot2)
library(lmtest)
library(beeswarm)
library(data.table)
library(tidyverse)
library(UWbe536)
knitr::opts_chunk$set(echo = TRUE)
library(foreign)
library(haven)
library(stats)
library(tidyr)
library(reshape2)
library(psych)
link="https://github.com/dmccoomes/Epi_515/raw/master/epi515_missing_data_analysis.dta"
miss <- read_dta(url(link))
install.packages("psych")
propmiss <- function(dataframe) {
m<-sapply(dataframe, function(x) {
data.frame(
nmiss=sum(is.na(x)),
n=length(x),
propmiss=sum(is.na(x))/length(x)
)
})
d <- data.frame(t(m))
d <- sapply(d, unlist)
d <- as.data.frame(d)
d$variable <- row.names(d)
row.names(d) <- NULL
d <- cbind(d[ncol(d)],d[-ncol(d)])
return(d[order(d$propmiss), ])
}
propmiss(miss.wide)
link="https://github.com/dmccoomes/Epi_515/raw/master/epi528_missing_data_analysis_WIDE.dta"
miss.wide <- read_dta(url(link))
link="https://github.com/dmccoomes/Epi_515/raw/master/epi528_missing_data_analysis_WIDE.dta"
miss.wide <- read_dta(url(link))
library(foreign)
library(haven)
library(stats)
library(tidyr)
library(reshape2)
library(psych)
install.packages("psych")
library(foreign)
library(haven)
library(stats)
library(tidyr)
library(reshape2)
library(psych)
link="https://github.com/dmccoomes/Epi_515/raw/master/epi528_missing_data_analysis_WIDE.dta"
miss.wide <- read_dta(url(link))
propmiss(miss.wide)
View(miss.wide)
model.1 <- glm(oi4~cd4cnt_ph1)
model.1 <- glm(oi4~cd4cnt_ph1, data=miss.wide, family=binomial)
summary(model.1)
model.2 <- glm(oi4~cd4cnt_ph1+oi1+septrin1+septrin4+cd4cnt_ph4+site+sex+age+activity+income+residence+art_base)
model.2 <- glm(oi4~cd4cnt_ph1+oi1+septrin1+septrin4+cd4cnt_ph4+site+sex+age+activity+income+residence+art_base, data=miss.wide, family=binomial)
summary(model.2)
summary(model.1)
model.2 <- glm(oi4~cd4cnt_ph1+septrin1+septrin4+site+sex+age+activity+income+residence+art_base, data=miss.wide, family=binomial)
summary(model.2)
model.2 <- glm(oi4~cd4cnt_ph1+septrin1+site+sex+age+activity+income+residence+art_base, data=miss.wide, family=binomial)
summary(model.2)
model.2 <- glm(oi4~cd4cnt_ph1+septrin1+site+sex+age+activity+income+residence, data=miss.wide, family=binomial)
summary(model.2)
model.1 <- glm(oi4~cd4cnt_ph1, data=miss.wide, family=binomial)
summary(model.1)
model.2 <- glm(oi4~cd4cnt_ph1+septrin1+site+sex+age+activity+income+residence, data=miss.wide, family=binomial)
model.2 <- glm(oi4~cd4cnt_ph1+septrin1+site+age+income+residence, data=miss.wide, family=binomial)
summary(model.2)
model.2 <- glm(oi4~cd4cnt_ph1+septrin1+age+income+residence+site:oi4, data=miss.wide, family=binomial)
summary(model.2)
model.2 <- glm(oi4~cd4cnt_ph1+septrin1+septrin4+age+sex+income+residence+site:oi4, data=miss.wide, family=binomial)
model.2 <- glm(oi4~cd4cnt_ph1+septrin4+age+sex+income+residence+site:oi4, data=miss.wide, family=binomial)
summary(model.2)
model.2 <- glm(oi4~cd4cnt_ph1+septrin4+age+income+residence+site:oi4, data=miss.wide, family=binomial)
summary(model.2)
